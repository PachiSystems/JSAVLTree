/* AVLTree for JavaScript. v0.0.1. (c) 2013, Brian Milton */
(function(i,b){function e(){this._root=null;this._lastnode;this._deleteNode}var h=function(n){if(n===null){return -1}else{return Math.max(h(n.getLeft()),h(n.getRight()))+1}};var f=function(n){var o=n.getRight();n.setRight(o.getLeft());o.setLeft(n);return o};var c=function(n){var o=n.getLeft();n.setLeft(o.getRight());o.setRight(n);return o};var g=function(n){n.setRight(c(n.getRight()));return f(n)};var d=function(n){n.setLeft(f(n.getLeft()));return c(n)};var m=function(n,o){if(o===null){o=new l(n)}else{if(n<o.getItem()){o.setLeft(m(n,o.getLeft()));if(o.getLeft()!==null){if((h(o.getLeft())-h(o.getRight()))===2){if(n<o.getLeft().getItem()){o=c(o)}else{o=d(o)}}}}else{if(n>o.getItem()){o.setRight(m(n,o.getRight()));if(o.getRight()!==null){if((h(o.getRight())-h(o.getLeft()))===2){if(n>o.getRight().getItem()){o=f(o)}else{o=g(o)}}}}else{}}}return o};var j=function(o,p){if(p===null){return null}this._lastNode=p;if(o<p.getItem()){p.setLeft(j(o,p.getLeft()))}else{this._deleteNode=p;p.setRight(j(o,p.getRight()))}if(p===this._lastNode){if(this._deleteNode!==null&&o===this._deleteNode.getItem()){if(this._deleteNode===this._lastNode){p=p.getLeft()}else{var n=this._deleteNode.getItem();this._deleteNode.setItem(this._lastNode.getItem());this._lastNode.setItem(n);p=p.getRight()}}}else{if((h(p.getLeft())-h(p.getRight()))===2){if(o<p.getLeft().getItem()){p=c(p)}else{p=d(p)}}if((h(p.getRight())-h(p.getLeft()))===2){if(o>p.getRight().getItem()){p=f(p)}else{p=g(p)}}}};var k=function(n){if(n===null){return null}else{if(n.getLeft()!==null){n.setLeft(k(n.getLeft()));return n}else{return n.getRight()}}};var a=function(n){if(n===null){return null}else{if(n.getRight()!==null){n.setRight(a(n.getRight()));return n}else{return n.getLeft()}}};e.prototype.getRoot=function(){return this._root};e.prototype.height=function(n){if(!n){n=this._root}return h(n)};e.prototype.insertNode=function(n){this._root=m(n,this._root)};e.prototype.deleteNode=function(n){this._lastNode=null;this._deleteNode=null;this._root=j(n,this._root)};e.prototype.findMinNode=function(n){if(n!==null){while(n.getLeft()!==null){n=n.getLeft()}}return n};e.prototype.findMaxNode=function(n){if(n!==null){while(n.getRight()!==null){n=n.getRight()}}return n};e.prototype.removeMinNode=function(n){return k(n)};e.prototype.removeMaxNode=function(n){return a(n)};e.prototype.printAVLTree=function(){return this._root.preorderPrint()};function l(n){this._item=n||null;this._left=null;this._right=null;this._height=null}l.prototype.getItem=function(){return this._item};l.prototype.getLeft=function(){return this._left};l.prototype.setLeft=function(n){this._left=n};l.prototype.getRight=function(){return this._right};l.prototype.setRight=function(n){this._right=n};l.prototype.getHeight=function(){return this._height};l.prototype.size=function(n){if(n===null){return 0}else{return this.size(n.getLeft())+this.size(n.getRight())+1}};l.prototype.preorderPrint=function(n){n=n||"";n="-"+n;console.log(n+this._item);if(this._left!==null){this._left.preorderPrint(n)}if(this._right!==null){this._right.preorderPrint(n)}};l.prototype.inorderPrint=function(n){n=n||"";n="--"+n;if(this._left!==null){this._left.inorderPrint(n)}console.log(n+this._item);if(this._right!==null){this._right.inorderPrint(n)}};l.prototype.postorderPrint=function(n){n=n||"";n="--"+n;if(this._left!==null){this._left.postorderPrint(n)}if(this._right!==null){this._right.postorderPrint(n)}console.log(n+this._item)};if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=e}else{i.AVLTree=e;if(typeof define==="function"&&define.amd){define("avltree",[],function(){return e})}}})(window);